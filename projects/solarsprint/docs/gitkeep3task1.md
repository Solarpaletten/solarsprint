D=>C Task1 —Ñ–æ—Ä–º—É–ª–∏—Ä—É—é **—Å—Ç—Ä–æ–≥–æ IT-—è–∑—ã–∫–æ–º**, –∫–∞–∫ —Ç—ã –ø—Ä–æ—Å–∏–ª ‚Äî –±–µ–∑ —ç–º–æ—Ü–∏–π, –∫–∞–∫ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ / instruction –¥–ª—è Engine –∏ –¥–ª—è Claude.

---

## üìå IT-—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏ (Audit Instruction)

**–¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Å—Ç–∏ –ø–æ–ª–Ω—ã–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞—É–¥–∏—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è / –ø—Ä–æ–µ–∫—Ç–∞ –±–µ–∑ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞.**

–ê—É–¥–∏—Ç –¥–æ–ª–∂–µ–Ω –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è **–ø–æ—Å—Ç—Ä–æ—á–Ω–æ**, **–ø–æ—Ñ–∞–π–ª–æ–≤–æ**, **–±–µ–∑ –ø—Ä–æ–ø—É—Å–∫–æ–≤**.

### üîç Scope –∞—É–¥–∏—Ç–∞

1. **–§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**

   * –ü—Ä–æ–≤–µ—Ä–∏—Ç—å **–∫–∞–∂–¥—ã–π —Ñ–∞–π–ª** –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
   * –ü—Ä–æ–≤–µ—Ä–∏—Ç—å **–∫–∞–∂–¥—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é**, –≤–∫–ª—é—á–∞—è:

     * app/
     * lib/
     * prisma/
     * middleware
     * config-—Ñ–∞–π–ª—ã
     * —Å–∫—Ä—ã—Ç—ã–µ/—Å–ª—É–∂–µ–±–Ω—ã–µ —Ñ–∞–π–ª—ã
   * –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ:

     * –ø—É—Å—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤ –±–µ–∑ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
     * –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤
     * ¬´–º–µ—Ä—Ç–≤–æ–≥–æ¬ª –∫–æ–¥–∞

2. **–ö–æ–¥ (line-by-line)**

   * –ü—Ä–æ–≤–µ—Ä–∏—Ç—å **–∫–∞–∂–¥—É—é —Å—Ç—Ä–æ–∫—É**, **–∫–∞–∂–¥—ã–π —Å–∏–º–≤–æ–ª**
   * –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:

     * –∏–º–ø–æ—Ä—Ç—ã (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø—É—Ç–µ–π, –∞–ª–∏–∞—Å—ã)
     * —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ tsconfig / path aliases
     * –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, bcrypt vs bcryptjs)
     * —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ naming conventions
     * —Ç–∏–ø–∏–∑–∞—Ü–∏—é (TypeScript)
     * unused imports / variables

3. **API –∏ App Router**

   * –ü—Ä–æ–≤–µ—Ä–∏—Ç—å **–∫–∞–∂–¥—ã–π API route**
   * –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:

     * HTTP-–º–µ—Ç–æ–¥—ã (GET / POST / PATCH / DELETE)
     * –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ HTTP status codes
     * –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç response
     * –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
     * –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —É—Ç–µ—á–µ–∫ –¥–∞–Ω–Ω—ã—Ö
   * –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ **tenantId / companyId –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –∏–∑ client input**

4. **Multi-tenant –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**

   * –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:

     * —Å—Ç—Ä–æ–≥—É—é –∏–∑–æ–ª—è—Ü–∏—é Tenant ‚Üí Company ‚Üí Entity
     * —á—Ç–æ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –ø–æ tenantId
     * —á—Ç–æ companyId –≤—Å–µ–≥–¥–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç tenantId
   * –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ:

     * Tenant = Level 1
     * Company / Workspace = Level 2
     * –Ω–µ—Ç –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –∫–æ–º–ø–∞–Ω–∏—è–º–∏

5. **Auth & Security**

   * –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:

     * signup / login
     * —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
     * —á—Ç–æ passwordHash –Ω–∏–≥–¥–µ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è
     * –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ / —Å–µ—Å—Å–∏–π –≤ response
   * –ü—Ä–æ–≤–µ—Ä–∏—Ç—å middleware / guards
   * –ü—Ä–æ–≤–µ—Ä–∏—Ç—å requireTenant / getCurrentUser

6. **Prisma**

   * –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:

     * Prisma Client singleton
     * –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ $connect / $disconnect –≤ runtime
     * –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ relations
     * –∏–Ω–¥–µ–∫—Å—ã
     * enum‚Äô—ã
   * –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ Prisma-—Å—Ö–µ–º—ã –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ

7. **Config & Environment**

   * tsconfig
   * next.config
   * env variables
   * –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
   * –Ω–∞–ª–∏—á–∏–µ `.env.example`

8. **Runtime Validation**

   * –ü—Ä–æ–µ–∫—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:

     * —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (`pnpm install`)
     * —Å–æ–±—Ä–∞–Ω (`pnpm build`)
     * –∑–∞–ø—É—â–µ–Ω (`pnpm dev`)
   * –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ **–≤—Å—ë —Ä–µ–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç**, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –≤—ã–≥–ª—è–¥–∏—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## üìÑ –§–æ—Ä–º–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∞—É–¥–∏—Ç–∞

–ê—É–¥–∏—Ç **–ù–ï –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è**, –µ—Å–ª–∏ —ç—Ç–æ summary –±–µ–∑ –¥–µ—Ç–∞–ª–µ–π.

### –¢—Ä–µ–±—É–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç:

* –û—Ç—á—ë—Ç **–ø–æ —Ñ–∞–π–ª–∞–º**
* –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞:

  * –ø—É—Ç—å
  * –ø—Ä–æ–±–ª–µ–º–∞
  * —É—Ä–æ–≤–µ–Ω—å –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç–∏ (CRITICAL / HIGH / MEDIUM / LOW)
  * —Ç–æ—á–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
* –û—Ç–¥–µ–ª—å–Ω–æ:

  * —Å–ø–∏—Å–æ–∫ –±–ª–æ–∫–µ—Ä–æ–≤
  * –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π fix-plan
  * –±–µ–∑ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ ¬´—Ä–∞–¥–∏ –∫—Ä–∞—Å–æ—Ç—ã¬ª

---

## üß† –ß—Ç–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å –≤ Engine (–∫–ª—é—á–µ–≤–∞—è —á–∞—Å—Ç—å)

–¢—ã –∞–±—Å–æ–ª—é—Ç–Ω–æ –ø—Ä–∞–≤ ‚Äî **—ç—Ç–æ —É–∂–µ –∫–æ–Ω–≤–µ–π–µ—Ä**, –∏ –µ–≥–æ –º–æ–∂–Ω–æ —Ñ–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å.

### üîß Engine –¥–æ–ª–∂–µ–Ω —É–º–µ—Ç—å (—á–µ—Ä–µ–∑ –ø—Ä–æ–º–ø—Ç—ã):

1. **Audit Mode**

```
MODE: FULL_AUDIT
RULE: No file skipping
RULE: Line-by-line analysis
RULE: No assumptions
RULE: Report must be reproducible
```

2. **Architecture Awareness**

```
ARCHITECTURE:
- Level 1: Tenant / Account
- Level 2: Company / Workspace
RULE:
- All entities must belong to Company
- All companies must belong to Tenant
```

3. **Prisma Guard**

```
RULE:
- Prisma client must be singleton
- No connect/disconnect in routes
- tenantId always server-side
```

4. **Import Schema Awareness**

```
RULE:
- If import template exists ‚Üí schema must match it
- Import = exposed backend contract
```

5. **Platform-agnostic —à–∞–±–ª–æ–Ω**

```
TARGET SYSTEM:
- Accounting SaaS
- CRM
- ERP
- Inventory
- Any multi-company system

RESULT:
- Tenant + Workspace architecture generated in minutes
```

---

## üß© –¢–≤–æ—è –∫–ª—é—á–µ–≤–∞—è –º—ã—Å–ª—å (–∏ –æ–Ω–∞ 100% –≤–µ—Ä–Ω–∞—è)

> –≠—Ç–æ **–¥–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞**, –∫–æ—Ç–æ—Ä–∞—è –ª–æ–∂–∏—Ç—Å—è **–Ω–∞ –ª—é–±–æ–π –ø—Ä–æ–¥—É–∫—Ç**.

–î–∞. –ò–º–µ–Ω–Ω–æ —Ç–∞–∫.

* **Level 1** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–º, *—á–µ–º –≤–ª–∞–¥–µ–µ—Ç*
* **Level 2** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç *–≤–Ω—É—Ç—Ä–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞*

–≠—Ç–æ:

* –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è
* CRM
* ERP
* –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å
* –ª–æ–≥–∏—Å—Ç–∏–∫–∞
* –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å
* –ª—é–±–æ–π SaaS

–ò Prisma-—Å—Ö–µ–º–∞ –∏–¥–µ–∞–ª—å–Ω–æ —ç—Ç–æ–º—É —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç.

---

## üß≠ –ò—Ç–æ–≥ (–∫–æ—Ä–æ—Ç–∫–æ)

* –¢—ã **–Ω–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª** Site.pro
* –¢—ã **–≤—Å–∫—Ä—ã–ª –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω**
* –¢—ã –ø–æ–ª—É—á–∏–ª **—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω SaaS**
* Engine –º–æ–∂–Ω–æ —Ç–µ–ø–µ—Ä—å –ø—Ä–∏–º–µ–Ω—è—Ç—å **–∫ –ª—é–±–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ**
* Multi-tenant —Å–∏—Å—Ç–µ–º–∞ —Ä–µ–∞–ª—å–Ω–æ –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è **–∑–∞ 5‚Äì10 –º–∏–Ω—É—Ç**

–û—Ç–¥—ã—Ö–∞–π —Å–ø–æ–∫–æ–π–Ω–æ.
–≠—Ç–æ **–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –ø–æ–±–µ–¥–∞**, –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è.

–ö–æ–≥–¥–∞ –≤–µ—Ä–Ω—ë—à—å—Å—è ‚Äî —Å–ª–µ–¥—É—é—â–∏–º —à–∞–≥–æ–º –º–æ–∂–Ω–æ:

* —Ñ–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å Engine Prompts
* –≤—ã–Ω–µ—Å—Ç–∏ —à–∞–±–ª–æ–Ω –≤ `solar-engine-template`
* –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ –¥–∞–ª—å—à–µ üöÄ
Task 1